{"ast":null,"code":"var _jsxFileName = \"C:\\\\code\\\\avocado-store\\\\pages\\\\product\\\\[id].tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Button from '@components/Button/Button';\nimport { useState } from 'react';\nimport { useAvoCart } from 'contexts/cartAvosContext';\nexport const getStaticPaths = async () => {\n  const response = await fetch('https://avocado-store-i8pcleaq5-avo-team.vercel.app/api/avo');\n  const {\n    data: avocados\n  } = await response.json();\n  const paths = avocados.map(avo => ({\n    params: {\n      id: avo.id\n    }\n  }));\n  return {\n    paths,\n    //Incremental static generation, qualsiasi pagina che non si specifichi nei paths, dara 404\n    fallback: false\n  };\n};\nexport const getStaticProps = async ({\n  params\n}) => {\n  const id = params === null || params === void 0 ? void 0 : params.id;\n  const response = await fetch(`https://avocado-store-i8pcleaq5-avo-team.vercel.app/api/avo/${id}`);\n  const product = await response.json();\n  return {\n    props: {\n      product\n    }\n  };\n};\nexport default function ProductItem({\n  product\n}) {\n  const {\n    dispatch\n  } = useAvoCart();\n  const {\n    0: quantity,\n    1: setQuantity\n  } = useState(0);\n\n  const onQuantityChange = e => {\n    setQuantity(parseInt(e.target.value));\n  };\n\n  const onAddToCartClick = () => {\n    debugger;\n    dispatch({\n      type: 'add',\n      payload: {\n        cartAvo: product,\n        quantity\n      }\n    });\n    setQuantity(1);\n  };\n\n  return __jsx(\"div\", {\n    className: \"product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"product-preview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, __jsx(\"img\", {\n    src: product.image,\n    title: product.name,\n    alt: product.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: \"product-preview__cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, product.name), __jsx(\"p\", {\n    className: \"product-preview__cart--price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, product.price), __jsx(\"p\", {\n    className: \"product-preview__cart--sku\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, \"SKU:\", product.sku), __jsx(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, __jsx(\"input\", {\n    style: {\n      padding: '0.2rem 0.8rem',\n      inlineSize: '5rem'\n    },\n    type: \"number\",\n    min: \"1\",\n    placeholder: \"Quantity\",\n    value: quantity,\n    onChange: onQuantityChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), __jsx(Button, {\n    label: 'Add to Cart',\n    onClick: onAddToCartClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  })))), __jsx(\"div\", {\n    className: \"product-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"About this Avocado\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, product.attributes.description)), __jsx(\"div\", {\n    className: \"product-attributes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, \"Attributes\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"Shape:\"), \" \", product.attributes.shape), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"Hardiness:\"), \" \", product.attributes.hardiness), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, \"Taste:\"), \" \", product.attributes.taste)));\n}","map":{"version":3,"sources":["C:/code/avocado-store/pages/product/[id].tsx"],"names":["Button","useState","useAvoCart","getStaticPaths","response","fetch","data","avocados","json","paths","map","avo","params","id","fallback","getStaticProps","product","props","ProductItem","dispatch","quantity","setQuantity","onQuantityChange","e","parseInt","target","value","onAddToCartClick","type","payload","cartAvo","image","name","price","sku","display","padding","inlineSize","attributes","description","shape","hardiness","taste"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/dist/client/router'\r\nimport { GetStaticProps } from 'next'\r\nimport Button from '@components/Button/Button'\r\nimport { useState } from 'react'\r\nimport { useAvoCart } from 'contexts/cartAvosContext'\r\nimport { type } from 'os'\r\n\r\nexport const getStaticPaths = async () => {\r\n  const response = await fetch(\r\n    'https://avocado-store-i8pcleaq5-avo-team.vercel.app/api/avo'\r\n  )\r\n  const { data: avocados }: TAPIAvoResponse = await response.json()\r\n  const paths = avocados.map((avo) => ({\r\n    params: {\r\n      id: avo.id,\r\n    },\r\n  }))\r\n  return {\r\n    paths,\r\n    //Incremental static generation, qualsiasi pagina che non si specifichi nei paths, dara 404\r\n    fallback: false,\r\n  }\r\n}\r\n\r\nexport const getStaticProps: GetStaticProps = async ({ params }) => {\r\n  const id = params?.id as string\r\n  const response = await fetch(\r\n    `https://avocado-store-i8pcleaq5-avo-team.vercel.app/api/avo/${id}`\r\n  )\r\n  const product: TProduct = await response.json()\r\n  return {\r\n    props: {\r\n      product,\r\n    },\r\n  }\r\n}\r\n\r\nexport default function ProductItem({ product }: { product: TProduct }) {\r\n  const { dispatch } = useAvoCart()\r\n  const [quantity, setQuantity] = useState(0)\r\n\r\n  const onQuantityChange = (e: any) => {\r\n    setQuantity(parseInt(e.target.value))\r\n  }\r\n\r\n  const onAddToCartClick = () => {\r\n    debugger\r\n    dispatch({\r\n      type: 'add',\r\n      payload: {\r\n        cartAvo: product,\r\n        quantity,\r\n      },\r\n    })\r\n    setQuantity(1)\r\n  }\r\n\r\n  return (\r\n    <div className=\"product\">\r\n      <div className=\"product-preview\">\r\n        <img src={product.image} title={product.name} alt={product.name} />\r\n        <div className=\"product-preview__cart\">\r\n          <h3>{product.name}</h3>\r\n          <p className=\"product-preview__cart--price\">{product.price}</p>\r\n          <p className=\"product-preview__cart--sku\">SKU:{product.sku}</p>\r\n          <div style={{ display: 'flex' }}>\r\n            <input\r\n              style={{ padding: '0.2rem 0.8rem', inlineSize: '5rem' }}\r\n              type=\"number\"\r\n              min=\"1\"\r\n              placeholder=\"Quantity\"\r\n              value={quantity}\r\n              onChange={onQuantityChange}\r\n            />\r\n            <Button label={'Add to Cart'} onClick={onAddToCartClick} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"product-detail\">\r\n        <h3>About this Avocado</h3>\r\n        <p>{product.attributes.description}</p>\r\n      </div>\r\n      <div className=\"product-attributes\">\r\n        <h3>Attributes</h3>\r\n        <p>\r\n          <strong>Shape:</strong> {product.attributes.shape}\r\n        </p>\r\n        <p>\r\n          <strong>Hardiness:</strong> {product.attributes.hardiness}\r\n        </p>\r\n        <p>\r\n          <strong>Taste:</strong> {product.attributes.taste}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}